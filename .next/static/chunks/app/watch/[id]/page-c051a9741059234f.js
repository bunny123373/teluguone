(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[793],{1119:function(e,t,a){Promise.resolve().then(a.bind(a,8009))},5137:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4241:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(8030).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7164:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(8030).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6463:function(e,t,a){"use strict";var s=a(1169);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},8009:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var s=a(7437),r=a(2265),n=a(7138),i=a(6463),l=a(1513),c=a(5137),o=a(4241),d=a(9338),m=a(7164),u=a(6504),h=a(9966),x=a(4095),p=a(1218),y=a(649);function f(){let e=(0,i.useParams)(),[t,a]=(0,r.useState)(null),[f,v]=(0,r.useState)([]),[g,j]=(0,r.useState)(!0);(0,r.useEffect)(()=>{e.id&&b()},[e.id]);let b=async()=>{j(!0);try{let t=await fetch("/api/content/".concat(e.id)),s=await t.json();s.success&&(a(s.data),w(s.data._id))}catch(e){console.error("Error fetching movie:",e)}finally{j(!1)}},w=async e=>{try{let t=await fetch("/api/content?type=movie"),a=await t.json();a.success&&v(a.data.filter(t=>t._id.toString()!==e.toString()).slice(0,6))}catch(e){console.error("Error fetching related movies:",e)}};return g?(0,s.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,s.jsx)(u.Z,{}),(0,s.jsx)("div",{className:"py-20 text-center",children:(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})})]}):t?(0,s.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,s.jsx)(u.Z,{}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsx)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:(0,s.jsxs)(n.default,{href:"/movie/".concat(t._id),className:"inline-flex items-center gap-2 text-muted hover:text-text transition-colors",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4"}),"Back to Movie Details"]})}),(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:(0,s.jsx)(x.Z,{src:t.watchLink||"",downloadLink:t.downloadLink,title:t.title})}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card border border-border rounded-2xl p-6 mb-8",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(y.Z,{variant:"primary",children:"Movie"}),t.quality&&(0,s.jsx)(y.Z,{variant:"accent",children:t.quality}),t.language&&(0,s.jsx)(y.Z,{variant:"secondary",children:t.language})]}),(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-text mb-2",children:t.title}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted",children:[t.year&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:t.year})]}),t.rating&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 text-yellow-500"}),(0,s.jsxs)("span",{children:[t.rating,"/10"]})]})]})]}),t.downloadLink&&(0,s.jsxs)("a",{href:t.downloadLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-primary text-white hover:bg-primary/90 transition-colors",children:[(0,s.jsx)(m.Z,{className:"w-5 h-5"}),"Download"]})]}),t.description&&(0,s.jsx)("p",{className:"text-muted mt-4 leading-relaxed",children:t.description})]}),f.length>0&&(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-text mb-6",children:"Related Movies"}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:f.map((e,t)=>(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:(0,s.jsx)(p.Z,{content:e})},e._id.toString()))})]})]}),(0,s.jsx)(h.Z,{})]}):(0,s.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,s.jsx)(u.Z,{}),(0,s.jsxs)("div",{className:"py-20 text-center",children:[(0,s.jsx)("p",{className:"text-muted text-lg",children:"Movie not found"}),(0,s.jsx)(n.default,{href:"/",className:"text-primary hover:underline mt-4 inline-block",children:"Go back home"})]})]})}},4095:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var s=a(7437),r=a(2265),n=a(7164),i=a(8030);/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,i.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var c=a(8094);/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),d=(0,i.Z)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),m=(0,i.Z)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);var u=a(6760);function h(e){let{src:t,downloadLink:a,title:i}=e,h=(0,r.useRef)(null),[x,p]=(0,r.useState)(!1),[y,f]=(0,r.useState)(!1),[v,g]=(0,r.useState)(0),[j,b]=(0,r.useState)(0),[w,k]=(0,r.useState)(0),[N,Z]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=h.current;if(!e)return;let t=()=>{k(e.currentTime),g(e.currentTime/e.duration*100)},a=()=>{b(e.duration)};return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",a),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",a)}},[]);let M=()=>{let e=h.current;e&&(x?e.pause():e.play(),p(!x))},E=e=>"".concat(Math.floor(e/60),":").concat(Math.floor(e%60).toString().padStart(2,"0"));return t?(0,s.jsxs)("div",{className:"relative w-full bg-card rounded-2xl overflow-hidden border border-border group",onMouseEnter:()=>Z(!0),onMouseLeave:()=>x&&Z(!1),children:[(0,s.jsx)("video",{ref:h,src:t,className:"w-full aspect-video",onClick:M,poster:void 0}),(0,s.jsxs)("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent p-4 transition-opacity duration-300 ".concat(N?"opacity-100":"opacity-0"),children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("input",{type:"range",min:"0",max:"100",value:v,onChange:e=>{let t=h.current;if(!t)return;let a=parseFloat(e.target.value)/100*j;t.currentTime=a,g(parseFloat(e.target.value))},className:"w-full h-1 bg-white/30 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:rounded-full"})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:M,className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center hover:bg-primary/80 transition-colors",children:x?(0,s.jsx)(l,{className:"w-5 h-5 text-white"}):(0,s.jsx)(c.Z,{className:"w-5 h-5 text-white ml-0.5"})}),(0,s.jsx)("button",{onClick:()=>{let e=h.current;e&&(e.muted=!y,f(!y))},className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:y?(0,s.jsx)(o,{className:"w-5 h-5 text-white"}):(0,s.jsx)(d,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("span",{className:"text-white text-sm",children:[E(w)," / ",E(j)]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[a&&(0,s.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:(0,s.jsx)(n.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("button",{onClick:()=>{let e=h.current;e&&(document.fullscreenElement?document.exitFullscreen():e.requestFullscreen())},className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:(0,s.jsx)(m,{className:"w-5 h-5 text-white"})})]})]})]})]}):(0,s.jsxs)("div",{className:"relative w-full aspect-video bg-card rounded-2xl flex flex-col items-center justify-center border border-border",children:[(0,s.jsx)("div",{className:"text-muted text-lg mb-4",children:"Watch link not available"}),a&&(0,s.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)(u.Z,{variant:"primary",className:"gap-2",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4"}),"Download Instead"]})})]})}}},function(e){e.O(0,[562,861,609,154,971,23,744],function(){return e(e.s=1119)}),_N_E=e.O()}]);