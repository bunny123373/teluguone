(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{7334:function(e,t,s){Promise.resolve().then(s.bind(s,6697))},5137:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2421:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(8030).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7164:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(8030).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6463:function(e,t,s){"use strict";var r=s(1169);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},6697:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=s(7437),a=s(2265),n=s(7138),i=s(6463),l=s(1513),o=s(5137),c=s(7164),d=s(6504),u=s(9966),m=s(4095),x=s(4446),h=s(2421),p=s(8094),b=s(649);function f(e){let{seasons:t,currentEpisodeId:s,onEpisodeSelect:n}=e,[i,o]=(0,a.useState)(0),[d,u]=(0,a.useState)(!1),m=t[i];return(0,r.jsxs)("div",{className:"bg-card rounded-2xl border border-border overflow-hidden",children:[(0,r.jsx)("div",{className:"p-4 border-b border-border",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>u(!d),className:"w-full flex items-center justify-between px-4 py-3 bg-background rounded-xl border border-border hover:border-primary/50 transition-colors",children:[(0,r.jsxs)("span",{className:"text-text font-medium",children:["Season ",null==m?void 0:m.seasonNumber]}),(0,r.jsx)(h.Z,{className:"w-5 h-5 text-muted transition-transform ".concat(d?"rotate-180":"")})]}),(0,r.jsx)(x.M,{children:d&&(0,r.jsx)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-card border border-border rounded-xl shadow-xl z-10",children:t.map((e,t)=>(0,r.jsxs)("button",{onClick:()=>{o(t),u(!1)},className:"w-full px-4 py-3 text-left hover:bg-background transition-colors first:rounded-t-xl last:rounded-b-xl ".concat(i===t?"bg-background text-primary":"text-text"),children:["Season ",e.seasonNumber]},e.seasonNumber))})})]})}),(0,r.jsx)("div",{className:"max-h-[400px] overflow-y-auto",children:null==m?void 0:m.episodes.map((e,t)=>(0,r.jsx)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},onClick:()=>n(e),className:"p-4 border-b border-border last:border-b-0 cursor-pointer hover:bg-background/50 transition-colors ".concat(s===e.episodeNumber?"bg-primary/10 border-l-4 border-l-primary":""),children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-background flex items-center justify-center flex-shrink-0",children:(0,r.jsx)("span",{className:"text-text font-semibold",children:e.episodeNumber})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"text-text font-medium truncate",children:e.episodeTitle}),e.quality&&(0,r.jsx)(b.Z,{variant:"accent",className:"mt-1",children:e.quality})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e)},className:"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center hover:bg-primary hover:text-white transition-colors",children:(0,r.jsx)(p.Z,{className:"w-4 h-4 text-primary hover:text-white"})}),e.downloadLink&&(0,r.jsx)("a",{href:e.downloadLink,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"w-8 h-8 rounded-lg bg-secondary/20 flex items-center justify-center hover:bg-secondary hover:text-white transition-colors",children:(0,r.jsx)(c.Z,{className:"w-4 h-4 text-secondary hover:text-white"})})]})]})},e.episodeNumber))})]})}var y=s(1218);function j(){let e=(0,i.useParams)(),t=(0,i.useSearchParams)(),[s,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(null),[j,v]=(0,a.useState)([]),[g,N]=(0,a.useState)(!0),w=t.get("season"),k=t.get("episode");(0,a.useEffect)(()=>{e.id&&Z()},[e.id]),(0,a.useEffect)(()=>{if(s){var e;let t=w?parseInt(w):0,r=k?parseInt(k):1,a=null===(e=s.seasons)||void 0===e?void 0:e[t];if(a){let e=a.episodes.find(e=>e.episodeNumber===r);e?p(e):a.episodes.length>0&&p(a.episodes[0])}}},[s,w,k]);let Z=async()=>{N(!0);try{let t=await fetch("/api/content/".concat(e.id)),s=await t.json();s.success&&(x(s.data),S(s.data._id))}catch(e){console.error("Error fetching series:",e)}finally{N(!1)}},S=async e=>{try{let t=await fetch("/api/content?type=series"),s=await t.json();s.success&&v(s.data.filter(t=>t._id.toString()!==e.toString()).slice(0,6))}catch(e){console.error("Error fetching related series:",e)}};return g?(0,r.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)("div",{className:"py-20 text-center",children:(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})})]}):s?(0,r.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,r.jsx)(d.Z,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:(0,r.jsxs)(n.default,{href:"/series/".concat(s._id),className:"inline-flex items-center gap-2 text-muted hover:text-text transition-colors",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"}),"Back to Series Details"]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:(0,r.jsx)(m.Z,{src:(null==h?void 0:h.watchLink)||"",downloadLink:(null==h?void 0:h.downloadLink)||s.downloadLink,title:(null==h?void 0:h.episodeTitle)||s.title})}),(0,r.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card border border-border rounded-2xl p-6",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(b.Z,{variant:"secondary",children:"Web Series"}),(null==h?void 0:h.quality)&&(0,r.jsx)(b.Z,{variant:"accent",children:h.quality})]}),(0,r.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-text mb-2",children:s.title}),h&&(0,r.jsxs)("p",{className:"text-muted",children:["Episode ",h.episodeNumber,": ",h.episodeTitle]})]}),(null==h?void 0:h.downloadLink)&&(0,r.jsxs)("a",{href:h.downloadLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-primary text-white hover:bg-primary/90 transition-colors",children:[(0,r.jsx)(c.Z,{className:"w-5 h-5"}),"Download"]})]})})]}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-text mb-4",children:"Episodes"}),s.seasons&&(0,r.jsx)(f,{seasons:s.seasons,currentEpisodeId:null==h?void 0:h.episodeNumber,onEpisodeSelect:e=>{p(e),window.scrollTo({top:0,behavior:"smooth"})}})]})})]}),j.length>0&&(0,r.jsxs)("section",{className:"mt-12",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-text mb-6",children:"Related Series"}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:j.map((e,t)=>(0,r.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:(0,r.jsx)(y.Z,{content:e})},e._id.toString()))})]})]}),(0,r.jsx)(u.Z,{})]}):(0,r.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,r.jsx)(d.Z,{}),(0,r.jsxs)("div",{className:"py-20 text-center",children:[(0,r.jsx)("p",{className:"text-muted text-lg",children:"Series not found"}),(0,r.jsx)(n.default,{href:"/",className:"text-primary hover:underline mt-4 inline-block",children:"Go back home"})]})]})}function v(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)("div",{className:"py-20 text-center",children:(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})})]}),children:(0,r.jsx)(j,{})})}},4095:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var r=s(7437),a=s(2265),n=s(7164),i=s(8030);/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,i.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var o=s(8094);/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),d=(0,i.Z)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),u=(0,i.Z)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);var m=s(6760);function x(e){let{src:t,downloadLink:s,title:i}=e,x=(0,a.useRef)(null),[h,p]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),[y,j]=(0,a.useState)(0),[v,g]=(0,a.useState)(0),[N,w]=(0,a.useState)(0),[k,Z]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=x.current;if(!e)return;let t=()=>{w(e.currentTime),j(e.currentTime/e.duration*100)},s=()=>{g(e.duration)};return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",s),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",s)}},[]);let S=()=>{let e=x.current;e&&(h?e.pause():e.play(),p(!h))},E=e=>"".concat(Math.floor(e/60),":").concat(Math.floor(e%60).toString().padStart(2,"0"));return t?(0,r.jsxs)("div",{className:"relative w-full bg-card rounded-2xl overflow-hidden border border-border group",onMouseEnter:()=>Z(!0),onMouseLeave:()=>h&&Z(!1),children:[(0,r.jsx)("video",{ref:x,src:t,className:"w-full aspect-video",onClick:S,poster:void 0}),(0,r.jsxs)("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent p-4 transition-opacity duration-300 ".concat(k?"opacity-100":"opacity-0"),children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("input",{type:"range",min:"0",max:"100",value:y,onChange:e=>{let t=x.current;if(!t)return;let s=parseFloat(e.target.value)/100*v;t.currentTime=s,j(parseFloat(e.target.value))},className:"w-full h-1 bg-white/30 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:rounded-full"})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:S,className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center hover:bg-primary/80 transition-colors",children:h?(0,r.jsx)(l,{className:"w-5 h-5 text-white"}):(0,r.jsx)(o.Z,{className:"w-5 h-5 text-white ml-0.5"})}),(0,r.jsx)("button",{onClick:()=>{let e=x.current;e&&(e.muted=!b,f(!b))},className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:b?(0,r.jsx)(c,{className:"w-5 h-5 text-white"}):(0,r.jsx)(d,{className:"w-5 h-5 text-white"})}),(0,r.jsxs)("span",{className:"text-white text-sm",children:[E(N)," / ",E(v)]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[s&&(0,r.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:(0,r.jsx)(n.Z,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("button",{onClick:()=>{let e=x.current;e&&(document.fullscreenElement?document.exitFullscreen():e.requestFullscreen())},className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:(0,r.jsx)(u,{className:"w-5 h-5 text-white"})})]})]})]})]}):(0,r.jsxs)("div",{className:"relative w-full aspect-video bg-card rounded-2xl flex flex-col items-center justify-center border border-border",children:[(0,r.jsx)("div",{className:"text-muted text-lg mb-4",children:"Watch link not available"}),s&&(0,r.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsxs)(m.Z,{variant:"primary",className:"gap-2",children:[(0,r.jsx)(n.Z,{className:"w-4 h-4"}),"Download Instead"]})})]})}}},function(e){e.O(0,[562,861,609,154,971,23,744],function(){return e(e.s=7334)}),_N_E=e.O()}]);